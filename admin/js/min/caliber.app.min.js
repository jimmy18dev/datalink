function caliberList(i){var a="api.caliber.php",e="";$("#caliber_list").html('<div class="loading"><i class="fa fa-spinner fa-spin" aria-hidden="true"></i>Loading...</div>'),$.ajax({url:a,cache:!1,dataType:"json",type:"GET",data:{calling:"caliber",action:"list_caliber",keyword:i},error:function(){console.log("Request Error")}}).done(function(i){console.log(i),$.each(i.data.items,function(i,a){e+='<div class="caliber-items -status-'+a.caliber_status+'" data-id="'+a.caliber_id+'">',e+='<div class="detail">',e+='<div class="name">'+a.caliber_code+a.caliber_family+"</div>",e+='<div class="info">Stdtime: '+a.caliber_stdtime+" Hrs/K - Route: "+a.route_name+"</div>",e+="</div>",e+='<div class="icon"><i class="fa fa-angle-right" aria-hidden="true"></i></div>',e+="</div>"}),$("#caliber_list").html(e),e=""}).error()}function routeList(i){var a="api.caliber.php",e="";$.ajax({url:a,cache:!1,dataType:"json",type:"GET",data:{calling:"caliber",action:"list_route",caliber_id:i},error:function(){console.log("Request Error")}}).done(function(i){console.log(i),$.each(i.data.items,function(i,a){e+='<div class="route-items" data-id="'+a.route_id+'">',e+='<div class="detail">',e+='<div class="name">'+a.route_name+"</div>",e+='<div class="info">'+a.route_total_operation+" Operations</div>",e+="</div>",e+='<div class="icon"><i class="fa fa-angle-right" aria-hidden="true"></i></div>',e+="</div>"}),$("#route_list").html(e),e=""}).error()}function operationList(i){var a="api.caliber.php",e="";$.ajax({url:a,cache:!1,dataType:"json",type:"GET",data:{calling:"caliber",action:"list_operation",route_id:i},error:function(){console.log("Request Error")}}).done(function(i){console.log(i),$.each(i.data.items,function(i,a){null==a.operation_match_id?(e+='<div class="operation-items -disable">',e+='<div class="detail">... '+a.operation_name+"</div>",e+='<div class="icon"><i class="fa fa-circle" aria-hidden="true"></i></div>',e+="</div>"):(e+='<div class="operation-items">',e+='<div class="detail">'+a.operation_sort+". "+a.operation_name+" "+a.operation_match_id+"</div>",e+='<div class="icon"><i class="fa fa-check-circle" aria-hidden="true"></i></div>',e+="</div>")}),$("#operation_list").html(e),e=""}).error()}$(document).ready(function(){$("#btn-special-list").click(function(){$("#special-list").addClass("-show"),$("#filter").fadeIn(300)}),$("#caliber-search").keyup(function(){caliberList($(this).val())}),caliberList(""),$(".col-container").on("click",".caliber-items",function(){var i=$(this).attr("data-id");$(".caliber-items").removeClass("-active"),$(this).addClass("-active"),console.clear(),$("#operation_list").html('<div class="intro">OPERATION</div>'),routeList(i)}),$(".col-container").on("click",".route-items",function(){var i=$(this).attr("data-id");$(".route-items").removeClass("-active"),$(this).addClass("-active"),console.clear(),operationList(i)})});