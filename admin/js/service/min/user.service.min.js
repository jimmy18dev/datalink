function login(){var e="api.user.php",n=$("#username").val(),a=$("#password").val();return""==n?(alert("Please enter your username!"),!1):""==a?(alert("Please enter your password!"),!1):($("#btn-caption").html("Please wait"),$("#btn-icon").html('<i class="fa fa-spinner fa-spin" aria-hidden="true"></i>'),$("#submit-btn").addClass("btn-loading"),console.log(n,a),$.ajax({url:e,cache:!1,dataType:"json",type:"POST",data:{calling:"user",action:"login",username:n,password:a},error:function(){console.log("Request Error")}}).done(function(e){console.log("callback: "+e.return+","+e.message),e.return?setTimeout(function(){window.location="index.php?message=login_success"},1e3):location.reload()}).error(),void 0)}function register(){var e="api.user.php",n=$("#code").val(),a=$("#fname").val(),o=$("#lname").val(),r=$("#username").val(),t=$("#password").val(),i=$("#line_default").val(),s=$("#section_id").val();$("#btn-caption").html("Creating..."),$("#btn-icon").html('<i class="fa fa-spinner fa-spin" aria-hidden="true"></i>'),$("#submit-btn").addClass("btn-loading"),$.ajax({url:e,cache:!1,dataType:"json",type:"POST",data:{calling:"user",action:"register",code:n,fname:a,lname:o,username:r,password:t,line_default:i,section_id:s},error:function(){console.log("Request Error")}}).done(function(e){console.log("Return: "+e.message),e.return?setTimeout(function(){window.location="user.php?"},1e3):($("#loading-box").fadeOut(300),alert("เกิดปัญหา!"))}).error()}function edit(e){var n="api.user.php",a=$("#code").val(),o=$("#fname").val(),r=$("#lname").val(),t=$("#username").val(),i=$("#password").val(),s=$("#section_id").val(),l=$("#line_default").val();$("#btn-caption").html("Updating..."),$("#btn-icon").html('<i class="fa fa-spinner fa-spin" aria-hidden="true"></i>'),$("#submit-btn").addClass("btn-loading"),$.ajax({url:n,cache:!1,dataType:"json",type:"POST",data:{calling:"user",action:"edit",id:e,code:a,fname:o,lname:r,username:t,password:i,line_default:l,section_id:s},error:function(){console.log("Request Error")}}).done(function(e){console.log("Return: "+e.message),setTimeout(function(){window.location="user.php?"},1e3)}).error()}function deactiveUser(e,n){var a="api.user.php",o=confirm("Are you sure you want to deactive this "+n+" account ?");return o?($("#loading-box").fadeIn(300),$.ajax({url:a,cache:!1,dataType:"json",type:"POST",data:{calling:"user",action:"deactive",user_id:e},error:function(){console.log("Request Error")}}).done(function(e){console.log("Return: "+e.message),setTimeout(function(){window.location="user.php?"},1e3)}).error(),void 0):!1}function addToAdmin(e,n){var a="api.user.php",o=confirm("Are you sure you want add "+n+" to admin ?");return o?($("#loading-box").fadeIn(300),$.ajax({url:a,cache:!1,dataType:"json",type:"POST",data:{calling:"user",action:"add_to_admin",user_id:e},error:function(){console.log("Request Error")}}).done(function(n){console.log("Return: "+n.message),setTimeout(function(){window.location="user_editor.php?user="+e},1e3)}).error(),void 0):!1}function removeAdmin(e,n){var a="api.user.php",o=confirm("Are you sure you want remove "+n+" as an admin ?");return o?($("#loading-box").fadeIn(300),$.ajax({url:a,cache:!1,dataType:"json",type:"POST",data:{calling:"user",action:"remove_admin",user_id:e},error:function(){console.log("Request Error")}}).done(function(n){console.log("Return: "+n.message),setTimeout(function(){window.location="user_editor.php?user="+e},1e3)}).error(),void 0):!1}