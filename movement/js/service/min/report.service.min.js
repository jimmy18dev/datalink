function createHeaderReport(){var e="api.report.php",t=$("#line_no").val(),a=$("#line_type").val(),o=$("#shift").val(),r=$("#no_monthly_emplys").val(),l=$("#no_daily_emplys").val(),n=$("#ttl_monthly_hrs").val(),i=$("#ttl_daily_hrs").val(),_=$("#ot_10").val(),d=$("#ot_15").val(),s=$("#ot_20").val(),c=$("#ot_30").val(),p=$("#losttime_vac").val(),m=$("#losttime_sick").val(),v=$("#losttime_abs").val(),u=$("#losttime_mat").val(),h=$("#losttime_other").val(),f=$("#downtime_mc").val(),y=$("#downtime_mat").val(),g=$("#downtime_fac").val(),w=$("#downtime_other").val(),T=$("#sort_local").val(),x=$("#sort_oversea").val(),k=$("#rework_local").val(),R=$("#rework_oversea").val(),b=$("#target_yield").val(),j=$("#target_eff").val(),E=$("#remark").val(),O=$("#r_date").val(),S=$("#r_month").val(),q=$("#r_year").val(),P=q+"-"+S+"-"+O;$("#loading-box").fadeIn(300),$.ajax({url:e,cache:!1,dataType:"json",type:"POST",data:{calling:"report",action:"create_header",line_no:t,line_type:a,shift:o,report_date:P,no_monthly_emplys:r,no_daily_emplys:l,ttl_monthly_hrs:n,ttl_daily_hrs:i,ot_10:_,ot_15:d,ot_20:s,ot_30:c,losttime_vac:p,losttime_sick:m,losttime_abs:v,losttime_mat:u,losttime_other:h,downtime_mc:f,downtime_mat:y,downtime_fac:g,downtime_other:w,sort_local:T,sort_oversea:x,rework_local:k,rework_oversea:R,target_yield:b,target_eff:j,remark:E},error:function(){console.log("Request Error")}}).done(function(e){console.log("Return: "+e.message),0!=e.return?window.location="report_detail_editor_choose_caliber.php?header="+e.return:($("#loading-box").fadeOut(300),alert("แก้ข้อผิดพลาด!"))}).error()}function editHeaderReport(e){var t="api.report.php",a=$("#line_no").val(),o=$("#line_type").val(),r=$("#shift").val(),l=$("#no_monthly_emplys").val(),n=$("#no_daily_emplys").val(),i=$("#ttl_monthly_hrs").val(),_=$("#ttl_daily_hrs").val(),d=$("#ot_10").val(),s=$("#ot_15").val(),c=$("#ot_20").val(),p=$("#ot_30").val(),m=$("#losttime_vac").val(),v=$("#losttime_sick").val(),u=$("#losttime_abs").val(),h=$("#losttime_mat").val(),f=$("#losttime_other").val(),y=$("#downtime_mc").val(),g=$("#downtime_mat").val(),w=$("#downtime_fac").val(),T=$("#downtime_other").val(),x=$("#sort_local").val(),k=$("#sort_oversea").val(),R=$("#rework_local").val(),b=$("#rework_oversea").val(),j=$("#target_yield").val(),E=$("#target_eff").val(),O=$("#remark").val(),S=$("#r_date").val(),q=$("#r_month").val(),P=$("#r_year").val(),A=P+"-"+q+"-"+S;$("#loading-box").fadeIn(300),$.ajax({url:t,cache:!1,dataType:"json",type:"POST",data:{calling:"report",action:"edit_header",header_id:e,line_no:a,line_type:o,shift:r,report_date:A,no_monthly_emplys:l,no_daily_emplys:n,ttl_monthly_hrs:i,ttl_daily_hrs:_,ot_10:d,ot_15:s,ot_20:c,ot_30:p,losttime_vac:m,losttime_sick:v,losttime_abs:u,losttime_mat:h,losttime_other:f,downtime_mc:y,downtime_mat:g,downtime_fac:w,downtime_other:T,sort_local:x,sort_oversea:k,rework_local:R,rework_oversea:b,target_yield:j,target_eff:E,remark:O},error:function(){console.log("Request Error")}}).done(function(t){console.log("Return: "+t.message),window.location="report_detail.php?header="+e+"&callback=edit_success"}).error()}function deleteHeadReport(e,t,a){var o="api.report.php";return confirm("Are you sure to delete "+a+" ?")?($("#loading-box").fadeIn(300),$.ajax({url:o,cache:!1,dataType:"json",type:"POST",data:{calling:"report",action:"delete_report_detail",header_id:e,report_id:t},error:function(){console.log("Request Error")}}).done(function(t){console.log("Return: "+t.message),setTimeout(function(){window.location="report_detail.php?header="+e},1e3)}).error(),void 0):!1}function deleteHeaderReport(e,t,a,o){var r="api.report.php";return confirm("Are you sure to delete report "+a+" (line no."+o+", shift "+t+") ?")?($("#loading-box").fadeIn(300),$.ajax({url:r,cache:!1,dataType:"json",type:"POST",data:{calling:"report",action:"delete_header_report",header_id:e,shift:t},error:function(){console.log("Request Error")}}).done(function(e){console.log("Return: "+e.message),window.location="index.php?callback=delete_success"}).error(),void 0):!1}function getGraph(e){var t="api.report.php",a=$("#year").val(),o=$("#month").val(),r=$("#line").val();$.ajax({url:t,cache:!1,dataType:"json",type:"GET",data:{calling:"report",action:"getGraph",year:a,month:o,shift:e,line:r},error:function(){console.log("Request Error")}}).done(function(t){$("#container-"+e).highcharts({title:{text:"Shift "+t.data.shift+", Line "+t.data.line+", "+t.data.month+" "+t.data.year,x:-20},xAxis:{categories:t.data.date},yAxis:{title:{text:"%"}},tooltip:{valueSuffix:"%"},series:[{name:"Actual yield",data:t.data.actual_yield},{name:"Taget output",data:t.data.target_output},{name:"Actual output",data:t.data.actual_output},{name:"Product EFF",data:t.data.product_eff},{name:"Total EFF",data:t.data.total_eff}]})}).error()}function addTurnTo(e){var t="api.report.php",a=$("#output").val(),o=$("#caliber_id").val();$.ajax({url:t,cache:!1,dataType:"json",type:"POST",data:{calling:"report",action:"add_turn_to",header_id:e,caliber_id:o,output:a},error:function(){console.log("Request Error")}}).done(function(t){console.log("Return: "+t.message),window.location="report_detail.php?header="+e}).error()}function deleteTurnTo(e){var t="api.report.php";$.ajax({url:t,cache:!1,dataType:"json",type:"POST",data:{calling:"report",action:"delete_turn_to",id:e},error:function(){console.log("Request Error")}}).done(function(t){console.log("Return: "+t.message),$("#turn-in-"+e).fadeOut()}).error()}